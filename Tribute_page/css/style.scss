/*
TO DO:
Clear up code, jesus
Try to implement layout with map, make code more sassy

Style the longer description
Style footer
Come up with color scheme
Add transitions where possible
Keep an eye out for border shadow and tiny borders
Use different font families
Make picture into thumbnail / card?

Mention somewhere that most of this is from wikipedia
Add links to books
USE MIXINS WHERE APPROPRIATE
*/

@import 'mixins';

$main-color1: #ffece6;
$main-color2: #4d1200;
$background-default: #E3D4AD;
$navbar-color: #E3D4AD;


$header-vertical-margin: 25px;
$book-overlay-text-margin: 6px;

@mixin breakpoint($size) {
	@if $size == small {
		@media (max-width: 767px) {
			@content;
		}
	}
	@else if $size == medium {
		@media screen and (min-width: 768px) {
			@content
		}
	}
}


* {
	margin: 0px;
	padding: 0px;
}


body {
	//height: 100%;
	padding-top: 35px;
	display:block;
	background-color: $background-default;
	background-image: url("/img/background-img.jpg");
	background-size: cover;
	background-repeat: no-repeat;
	background-position: center;
}

.navbar {
	background-color: $navbar-color;
	border-bottom: 1px solid black;
}

h1 {
	color: $main-color2;
	margin-top: $header-vertical-margin;
	margin-bottom: $header-vertical-margin;
}

.section-title {
	margin-top: $header-vertical-margin;
	margin-bottom: $header-vertical-margin;
	display: flex;
	justify-content: center;
	align-items: center;
	&:before, &:after {
		display: block;
		content: '';
    height: 4px;
    background-color: #4d1200;
    flex-grow: 1;
		@include breakpoint(small) {
			display: none;
		}
	}
	&:before {
		margin-left: -30px;
	}
	&:after {
		margin-right: -30px;
	}
	h2 {
		color: $main-color2;
		text-align: center;
		display: block;
		margin: 0 10px;
		max-width: 75%;
	}
}



.timeline ul {
	position: relative;
	display: flex;
	flex-wrap: wrap;
	padding: 0px;
	&:before {
		//  Creates the line in the middle
		content: "";
		position: absolute;
		left: 50%;
		background-color: $main-color2;
		width: 4px;
		height: calc(100% - 50px);
		transform: translate(-50%, 2%);
	}
	@include breakpoint(small) {
		&:before {
			left: 0%;
		}
	}
	li {
		list-style-type: none;
		width: 100%;
		position: relative;
		margin-bottom: 10px;
		.icon-container {
			position: absolute;
			left: 50%;
			top: calc(45% - 10px);
			transform: translate(-50%, 0);
			border-radius: 100%;
			background-color: $main-color2;
			width: 30px;
			height: 30px;
			text-align: center;
			padding-top: 2px;
			@include breakpoint(small) {
				left: 0%;
				transform: translate(-50%, 0);
			}
			span {
				color: white;
			}
		}
		&:nth-child(odd) .timeline-content{
			margin-right: auto;
			margin-left: 0px;
			transform: translate(0, 0);
			&:after {
				left: 100%;
				top: 45%;
				border-left: 4px solid $main-color2;
				border-right: none;
			}
			@include breakpoint(small) {
				margin-left: 30px;
				margin-right: 0px;
				width: 100%;
				&:after { // should be improved
					left: auto;
					left: -4px;
					top: 45%;
					border-right: none;
					border-top: 4px solid transparent;
					border-bottom: 4px solid transparent;
					border-left: none;
					border-right: 4px solid $main-color2;
				}
			}
		}
		.timeline-content { //even elements are not styled separately, they are the default
			width: calc(50% - 35px); // the -x px determines the distance between the element and the line in the middle when in large view
			margin-left: auto;
			transform: translate(0, 0);
			background-color: $main-color1;
			text-align: center;
			border-radius: 10px;
			padding: 5px 5px;
			&:after {
				content: "";
				display:block;
				width:0;
				height:0;
				border-top: 4px solid transparent;
				border-bottom: 4px solid transparent;
				border-right:4px solid $main-color2;
				border-left: none;
				position: absolute;
				left: -4px;
				top: 45%;
			}
			@include breakpoint(small) { // unfortunately, duplicated of the above
				margin-left: 30px;
				margin-right: 0px;
				width: 100%;
				&:after { // repetition should be avoided if possible
					left: auto;
					left: -4px;
					top: 45%;
					border-right: none;
					border-top: 4px solid transparent;
					border-bottom: 4px solid transparent;
					border-left: none;
					border-right: 4px solid $main-color2;
				}
			}
		}
	}
}

.book-showcase {
	list-style: none;
	display: flex;
	flex-wrap: wrap;
	justify-content: space-around;
	li {
		position: relative;
		width: 128px;
		height: 208px;
		margin-bottom: 5px;
		margin-right: 5px;
		margin-left: 5px;
		overflow: hidden;
		//@include background(inline, #fff, no-repeat, scroll);
		.book-overlay {
			position: absolute;
			top: 0; right: 0; bottom: 0; left: 0;
			opacity: 0;
			width: 100%;
			//height: 100%;
			background-color: rgba(0,0,0,0.8);
			color: white;
			@include transition(opacity 0.8s);
			.book-title {
				margin-top: $book-overlay-text-margin * 2;
				font-size: 10px;
				font-weight: 700;
				text-align: center;
			}
			.book-desc {
				margin-right: $book-overlay-text-margin;
				margin-left: $book-overlay-text-margin;
				font-size: 10px;
			}
			.publication-date {
				position: absolute;
				bottom: $book-overlay-text-margin;
				right: $book-overlay-text-margin;
				font-size: 10px;
				//float: right;
			}
		}
		&:hover .book-overlay {
			opacity: 100;
		}
		img {
			@include transition(all 0.8s);
		}
		&:hover img{
			@include transform(scale(1.1))
		}
	}
}

footer {

	border: 1px solid $background-default;
}
